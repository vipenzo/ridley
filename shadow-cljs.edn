{:source-paths ["src" "test"]
 :dependencies [[org.babashka/sci "0.8.43"]
                [thi.ng/geom "1.0.1"]]
 :dev-http {9000 "public"}
 :builds {:app {:target :browser
                :output-dir "public/js"
                :asset-path "js"
                :modules {:main {:init-fn ridley.core/init}}
                :devtools {:after-load ridley.core/reload}
                ;; Use :simple optimizations to avoid aggressive property renaming
                ;; that breaks interop with external JS libraries (Manifold WASM, Three.js)
                :release {:compiler-options {:optimizations :simple}}}
          ;; Release build for GitHub Pages (legacy, not used)
          :release {:target :browser
                    :output-dir "docs/js"
                    :asset-path "js"
                    :modules {:main {:init-fn ridley.core/init}}
                    :compiler-options {:optimizations :advanced}}
          ;; Test build for turtle core tests
          :test {:target :node-test
                 :output-to "out/test.js"
                 :ns-regexp ".*-test$"
                 :autorun true}}}
